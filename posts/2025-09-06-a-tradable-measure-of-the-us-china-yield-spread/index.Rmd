---
title: "可交易口径中美利差测算"
author: "谭长德"
date: 2025-09-07
date-modified: last-modified
image: "image/portrait_john_maynard_keynes_hi.jpg"
number-sections: true
categories: ["宏观"]
knitr:
  opts_chunk: 
    echo: true
    message: FALSE
    warning: FALSE
    cache: TRUE
    collapse: true
    comment: "#>" 
    R.options:
      knitr.graphics.auto_pdf: true
---

![约翰·梅纳德·凯恩斯, 1883-1946](image/jmk.jpg)

## 计算口径

为与直接买美元短期资产收益可比，需用外汇掉期将汇率风险完全对冲。我们选择一年期美元对人民币 [C-Swap 定盘价](https://www.chinamoney.org.cn/chinese/bkcurvfsw/)。下文 $S$、$F$ 均为 USD/CNY 报价方向。记：

即期汇率：$S$

远期汇率：$F$

掉期点（pips）：$P$

掉期点与价差的关系：

$$ P = (F - S) \times 10{,}000 \implies F - S = \frac{P}{10{,}000} $$

由于选择了一年期掉期点，所以不需要额外年化掉期点。我们想要掉期点占即期的百分比，需采取如下转换：

$$
\frac{F-S}{S}\
= \frac{\frac{P}{10{,}000}}{S}
= \frac{P}{S\times 10{,}000}
$$

当结算货币是 USD，而资产货币是 RMB，且使用的点数来自“USD/CNH”这一报价方向时，计算“美元对冲后的等效回报”需要对远期点占即期的百分比取相反数。

中国利率债曲线最活跃在中长端，1 年期国债常“离线”、受供需与政策扭曲更大。1 年同业存单点位更能代表市场边际资金价格。因而用外汇掉期将汇率风险完全对冲后，1 年期人民币 AAA 级同业存单折算成“美元计价”的对冲后收益率（也可理解为等效美元收益率）公式为：

$$
\text{1 年期中债商业银行 AAA 级同业存单到期收益率}
+\left(0-\frac{\text{1 年期美元对人民币外汇掉期 C-Swap 定盘价}}{10{,}000 \times \text{美元兑离岸人民币即期汇率}}\right)
$$

## 数据处理

近几年，美元兑离岸人民币与在岸人民币的即期汇率基本一致。鉴于可通过 API 获取在岸人民币汇率数据，下面的计算使用美元兑在岸人民币即期汇率。


```{r}
library(vroom)
library(dplyr)
library(lixingr2)
library(lubridate)
library(tidyr)

china_aaa_corporate_deposit_1y_yield <- lxr_macro_interest_rates(
  token = Sys.getenv("LIXINGR_TOKEN"),
  area_code = "cn",
  start_date = "2020-01-01",
  end_date = "2025-09-06",
  metrics_list = "cdnaaa_y1",
  options = list(call_config = list(return_format = "tibble"))
) |>
  mutate(date = date(ymd_hms(date))) |>
  select(date, cdnaaa_y1)

usd_cny_c_swap_1y <- vroom(
  "USD_CNY_C_Swap_定盘曲线_1Y.csv",
  delim = ",",
  col_types = "Dcd",
  locale = locale(encoding = "GB2312")
) |>
  select(
    date = 日期,
    usd_cny_swap_pips_1y = 掉期点_Pips
  ) |>
  filter(date >= "2020-01-01")

usd_cny_fx_rates <- lxr_macro_fx(
  token = Sys.getenv("LIXINGR_TOKEN"),
  start_date = "2020-01-01",
  end_date = "2025-09-06",
  from_currency = "USD",
  to_currency = "CNY",
  options = list(call_config = list(return_format = "tibble"))
) |>
  mutate(date = date(with_tz(ymd_hms(date), "Asia/Shanghai"))) |>
  select(date, usd_cny_close_price = close)

us_treasury_1y_yield <- lxr_macro_national_debt(
  token = Sys.getenv("LIXINGR_TOKEN"),
  area_code = "us",
  start_date = "2020-01-01",
  end_date = "2025-09-06",
  metrics_list = "tcm_y1",
  options = list(call_config = list(return_format = "tibble"))
) |>
  mutate(date = date(with_tz(ymd_hms(date), "Asia/Shanghai"))) |>
  select(date, us_tcm_y1 = tcm_y1)

hedged_yield_data <- china_aaa_corporate_deposit_1y_yield |>
  left_join(usd_cny_c_swap_1y, by = "date") |>
  left_join(usd_cny_fx_rates, by = "date") |>
  left_join(us_treasury_1y_yield, by = "date") |>
  drop_na() |>
  mutate(
    hedged_china_yield_1y = cdnaaa_y1 + 
        (0 - usd_cny_swap_pips_1y / (usd_cny_close_price * 10000))
  )
```

## 可视化

```{r}
library(echarts4r)

hedged_yield_data |>
  e_charts(date) |>
  e_line(us_tcm_y1, name = "美债 1 年期收益率", symbolSize = 0) |>
  e_line(hedged_china_yield_1y, name = "对冲后中国 1 年期收益率", symbolSize = 0) |>
  e_title("中美对冲收益率对比") |>
  e_legend() |>
  e_tooltip(
    trigger = "axis",
    formatter = e_tooltip_pointer_formatter("percent", digits = 2)
  ) |>
  e_y_axis(formatter = e_axis_formatter("percent", digits = 2)) |>
  e_legend(bottom = 0, itemGap = 20,)
```

## 注意事项

本文换算依赖有担保利率平价（CIP）的近似，忽略跨币种基差、交易费用、保证金占用、日计数/复利方式差异、在岸/离岸市场差异等因素。“C-Swap 定盘价”为掉期点。

## 参考资料

- [关于股市风格和跨境流动性的关系](https://mp.weixin.qq.com/s/dRxHBGPuI3IMW-mSyC3CdQ)
- [中国债券信息网 --中债收益率](https://yield.chinabond.com.cn/cbweb-mn/yield_main?locale=zh_CN)
- [外汇掉期曲线_外汇掉期C_Swap定盘曲线_中国货币网](https://www.chinamoney.org.cn/chinese/bkcurvfsw/)
